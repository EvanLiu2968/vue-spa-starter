webpackJsonp([0],{500:function(t,e,a){a(531);var r=a(83)(a(511),a(522),null,null);t.exports=r.exports},504:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={version:"1.0",isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent)},isWechat:function(){return/micromessenger/i.test(navigator.userAgent)||void 0!==navigator.wxuserAgent},isIP:function(t){return/^(([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.)(([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.){2}([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))$/.test(t)},validateIP:function(t,e,a){r.isIP(e)?a():a(new Error("请输入正确的IP"))},isIdCardNo:function(t){var e=new Date(t.substr(6,4)+"-"+t.substr(10,2)+"-"+t.substr(12,2));return/^(\d{6})()?(\d{4})(\d{2})(\d{2})(\d{3})(\w)$/.test(t)&&e<new Date},validateIdCardNo:function(t,e,a){r.isIdCardNo(e)?a():a(new Error("请输入正确的身份证号码"))},isPlateNo:function(t){return/^[\u4e00-\u9fa5]{1}[A-Z]{1}[A-Z_0-9]{5}$/.test(t)},validatePlateNo:function(t,e,a){r.isPlateNo(e)?a():a(new Error("请输入正确的车牌号"))},isPhone:function(t){var e=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/,a=/^(\d{3,4}-?)?\d{7,9}$/g;return e.test(t)||a.test(t)},validatePhone:function(t,e,a){r.isPhone(e)?a():a(new Error("请输入正确的手机/电话号码"))},isQQ:function(t){return/^[1-9]\d{4,10}$/.test(t)},validateQQ:function(t,e,a){r.isQQ(e)?a():a(new Error("请输入正确的QQ号码"))},isPassword:function(t){return/^[a-zA-Z]\w{5,12}$/.test(t)},validatePassword:function(t,e,a){r.isPassword(e)?a():a(new Error("只能包含字符、数字和下划线，且以字母开头，长度在6-12之间"))},isChinese:function(t){return/^[\u4e00-\u9fa5]+$/.test(t)},validateChinese:function(t,e,a){r.isChinese(e)?a():a(new Error("请输入中文"))},isUrl:function(t){return/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i.test(t)},validateUrl:function(t,e,a){r.isUrl(e)?a():a(new Error("请输入正确的网址"))},isEmail:function(t){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},validateEmail:function(t,e,a){r.isEmail(e)?a():a(new Error("请输入正确的邮箱地址"))},getStrLength:function(t){return t.replace(/[^\x00-\xff]/g,"aa").length}};e.default=r},511:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(504);!function(t){t&&t.__esModule}(r);e.default={data:function(){return{queryForm:{searchItem:"system",searchText:""},tableData:[],resData:[{systemNo:"0001",systemName:"公交客流数据多模式采集与分析处理系统",systemIntro:"挖掘城市人群位移规律，掌握城市市民出行需求和出行特征",url:"http://10.89.134.80:8015/",pic:"static/images/app/1.png",hasAccount:!1,state:"1"},{systemNo:"0002",systemName:"广州出行分析系统",systemIntro:"通过自定义合并交通小区从而方便实现重点区域的监测",url:"http://10.89.134.80:8015/",pic:"static/images/app/2.png",hasAccount:!1,state:"1"},{systemNo:"0003",systemName:"交通问卷调查系统",systemIntro:"公交客流数据多模式采集与分析处理系统",url:"http://10.89.134.80:8015/",pic:"static/images/app/3.png",hasAccount:!0,state:"0"}],pagination:{currentPage:1,pageSize:10,total:0},addFormVisible:!1,editFormVisible:!1,changeAccountFormVisible:!1,setAccountFormVisible:!1,addForm:{systemName:"",systemIntro:"",url:"",pic:"",hasAccount:!1,state:"1"},addFormRules:{systemName:[{required:!0,message:"请输入系统名称",trigger:"blur"},{max:"20",message:"最多输入20个字符",trigger:"blur"}],systemIntro:[{max:"100",message:"最多输入100个字符",trigger:"blur"}],url:[{required:!0,message:"请输入系统网址",trigger:"blur"},{max:"100",message:"最多输入100个字符",trigger:"blur"}],pic:[{required:!0,message:"请上传系统图标",trigger:"blur"}],state:[{required:!0,message:"请设置系统状态",trigger:"blur"}]},editForm:{systemName:"",systemIntro:"",url:"",pic:"",hasAccount:!1,state:"1"},setAccountForm:{account:"",password:""},setAccountFormRules:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},watch:{},methods:{add:function(t,e){this.addFormVisible=!0},edit:function(t,e){this.editForm=e,this.editFormVisible=!0},delSystem:function(t,e){var a=this;this.$confirm("确定要删除该成员系统【"+e.systemName+"】吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.resData.splice(t,1),a.search(),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},changeAccount:function(t,e){this.setAccountFormVisible=!0},setAccount:function(t,e){this.setAccountFormVisible=!0},saveAddForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message.error("请正确填写表单！"),!1;e.$message.success("提交成功！"),e.addFormVisible=!1})},saveEditForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message.error("请正确填写表单！"),!1;e.$message.success("提交成功！"),e.editFormVisible=!1})},saveSetAccountForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message.error("请正确填写表单！"),!1;e.$message.success("提交成功！"),e.editFormVisible=!1})},logVisit:function(t,e){this.$router.push("/logvisit/"+e.systemNo)},stateFormatter:function(t,e){return"0"==t.state?"冻结":"开放"},search:function(){this.queryForm;this.pagination.currentPage=1,this.pagination.total=this.resData.length,this.paginate()},paginate:function(){var t=this.pagination.pageSize,e=this.pagination.currentPage;this.tableData=this.resData.slice((e-1)*t,e*t)},handleSizeChange:function(t){this.pagination.pageSize=t,this.paginate()},handleCurrentChange:function(t){this.pagination.currentPage=t,this.paginate()},addPicSuccess:function(t,e){this.addForm.pic=URL.createObjectURL(e.raw)},editPicSuccess:function(t,e){this.editForm.pic=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,a=t.size/1024/1024<1;return e||this.$message.error("上传头像图片只能是 JPG 或 PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 1MB!"),e&&a}},beforeMount:function(){this.search()}}},516:function(t,e,a){e=t.exports=a(187)(),e.push([t.i,".avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:100px;height:100px;line-height:100px;text-align:center}.avatar{width:100px;height:100px;display:block}",""])},522:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table"},[a("el-form",{ref:"queryForm",attrs:{inline:!0,model:t.queryForm}},[a("el-form-item",{attrs:{label:"系统名称"}},[a("el-input",{attrs:{placeholder:"系统名称，支持模糊搜索"},model:{value:t.queryForm.searchText,callback:function(e){t.queryForm.searchText=e},expression:"queryForm.searchText"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.add}},[t._v("新增")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"systemName",label:"系统名称",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",label:"系统网址","min-width":"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pic",label:"系统图标",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"40px"},attrs:{src:t.row.pic}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"systemIntro",label:"系统简介","min-width":"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",width:"80",formatter:t.stateFormatter}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.edit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.delSystem(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),e.row.hasAccount?[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.changeAccount(e.$index,e.row)}}},[t._v("修改账号")])]:[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.setAccount(e.$index,e.row)}}},[t._v("设置账号")])],t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.logVisit(e.$index,e.row)}}},[t._v("访问日志")])],2)]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增成员系统"},model:{value:t.addFormVisible,callback:function(e){t.addFormVisible=e},expression:"addFormVisible"}},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.addFormRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"系统名称",prop:"systemName"}},[a("el-input",{model:{value:t.addForm.systemName,callback:function(e){t.addForm.systemName=e},expression:"addForm.systemName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"系统网址",prop:"url"}},[a("el-input",{model:{value:t.addForm.url,callback:function(e){t.addForm.url=e},expression:"addForm.url"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"系统图标",prop:"pic"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.addPicSuccess,"before-upload":t.beforeAvatarUpload}},[t.addForm.pic?a("img",{staticClass:"avatar",attrs:{src:t.addForm.pic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"系统简介",prop:"systemIntro"}},[a("el-input",{attrs:{type:"textarea",row:"2"},model:{value:t.addForm.systemIntro,callback:function(e){t.addForm.systemIntro=e},expression:"addForm.systemIntro"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"state"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.state,callback:function(e){t.addForm.state=e},expression:"addForm.state"}},[a("el-option",{attrs:{label:"冻结",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"开放",value:"1"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer text-center",slot:"footer"},[a("el-button",{on:{click:function(e){t.addFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveAddForm("addForm")}}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"编辑成员系统"},model:{value:t.editFormVisible,callback:function(e){t.editFormVisible=e},expression:"editFormVisible"}},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"editForm",attrs:{model:t.editForm,rules:t.addFormRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"系统名称",prop:"systemName"}},[a("el-input",{model:{value:t.editForm.systemName,callback:function(e){t.editForm.systemName=e},expression:"editForm.systemName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"系统网址",prop:"url"}},[a("el-input",{model:{value:t.editForm.url,callback:function(e){t.editForm.url=e},expression:"editForm.url"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"系统图标",prop:"pic"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.addPicSuccess,"before-upload":t.beforeAvatarUpload}},[t.editForm.pic?a("img",{staticClass:"avatar",attrs:{src:t.editForm.pic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"系统简介",prop:"systemIntro"}},[a("el-input",{attrs:{type:"textarea",row:"2"},model:{value:t.editForm.systemIntro,callback:function(e){t.editForm.systemIntro=e},expression:"editForm.systemIntro"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"state"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editForm.state,callback:function(e){t.editForm.state=e},expression:"editForm.state"}},[a("el-option",{attrs:{label:"冻结",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"开放",value:"1"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer text-center",slot:"footer"},[a("el-button",{on:{click:function(e){t.editFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveEditForm("editForm")}}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"设置/修改账号"},model:{value:t.setAccountFormVisible,callback:function(e){t.setAccountFormVisible=e},expression:"setAccountFormVisible"}},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"setAccountForm",attrs:{model:t.setAccountForm,rules:t.setAccountFormRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"账号",prop:"account"}},[a("el-input",{model:{value:t.setAccountForm.account,callback:function(e){t.setAccountForm.account=e},expression:"setAccountForm.account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:t.setAccountForm.password,callback:function(e){t.setAccountForm.password=e},expression:"setAccountForm.password"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer text-center",slot:"footer"},[a("el-button",{on:{click:function(e){t.setAccountFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveSetAccountForm("setAccountForm")}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]}},531:function(t,e,a){var r=a(516);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(188)("38cb242c",r,!0)}});