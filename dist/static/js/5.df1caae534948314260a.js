webpackJsonp([5],{503:function(e,t,r){var a=r(83)(r(514),r(521),null,null);e.exports=a.exports},504:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={version:"1.0",isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent)},isWechat:function(){return/micromessenger/i.test(navigator.userAgent)||void 0!==navigator.wxuserAgent},isIP:function(e){return/^(([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.)(([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.){2}([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))$/.test(e)},validateIP:function(e,t,r){a.isIP(t)?r():r(new Error("请输入正确的IP"))},isIdCardNo:function(e){var t=new Date(e.substr(6,4)+"-"+e.substr(10,2)+"-"+e.substr(12,2));return/^(\d{6})()?(\d{4})(\d{2})(\d{2})(\d{3})(\w)$/.test(e)&&t<new Date},validateIdCardNo:function(e,t,r){a.isIdCardNo(t)?r():r(new Error("请输入正确的身份证号码"))},isPlateNo:function(e){return/^[\u4e00-\u9fa5]{1}[A-Z]{1}[A-Z_0-9]{5}$/.test(e)},validatePlateNo:function(e,t,r){a.isPlateNo(t)?r():r(new Error("请输入正确的车牌号"))},isPhone:function(e){var t=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/,r=/^(\d{3,4}-?)?\d{7,9}$/g;return t.test(e)||r.test(e)},validatePhone:function(e,t,r){a.isPhone(t)?r():r(new Error("请输入正确的手机/电话号码"))},isQQ:function(e){return/^[1-9]\d{4,10}$/.test(e)},validateQQ:function(e,t,r){a.isQQ(t)?r():r(new Error("请输入正确的QQ号码"))},isPassword:function(e){return/^[a-zA-Z]\w{5,12}$/.test(e)},validatePassword:function(e,t,r){a.isPassword(t)?r():r(new Error("只能包含字符、数字和下划线，且以字母开头，长度在6-12之间"))},isChinese:function(e){return/^[\u4e00-\u9fa5]+$/.test(e)},validateChinese:function(e,t,r){a.isChinese(t)?r():r(new Error("请输入中文"))},isUrl:function(e){return/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i.test(e)},validateUrl:function(e,t,r){a.isUrl(t)?r():r(new Error("请输入正确的网址"))},isEmail:function(e){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},validateEmail:function(e,t,r){a.isEmail(t)?r():r(new Error("请输入正确的邮箱地址"))},getStrLength:function(e){return e.replace(/[^\x00-\xff]/g,"aa").length}};t.default=a},514:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(504),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={data:function(){var e=this,t=function(t,r,a){""===r?a(new Error("请再次输入新密码")):r!==e.form.newPwd1?a(new Error("两次输入密码不一致!")):a()};return{queryForm:{account:""},tableData:[],resData:[{account:"zhangsan",originPwd:"888888",userName:"张三",org:"广州市客运交通管理处",email:"zhangsan@mail.qq.com",phone:"17712349876",role:"0"},{account:"admin",originPwd:"888888",userName:"admin",org:"广州市交通运输管理局",email:"gci@mail.qq.com",phone:"17712349876",role:"1"}],pagination:{currentPage:1,pageSize:10,total:0},addFormVisible:!1,editFormVisible:!1,changePwdFormVisible:!1,assignRoleFormVisible:!1,addForm:{account:"",userName:"",org:"",email:"",phone:""},addFormRules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{max:"50",message:"最多输入50个字符",trigger:"blur"}],userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{max:"20",message:"最多输入20个字符",trigger:"blur"}],org:[{required:!0,message:"请输入所属部门",trigger:"blur"},{max:"50",message:"最多输入50个字符",trigger:"blur"}],email:[{validator:o.default.validateEmail,trigger:"blur"}],phone:[{validator:o.default.validatePhone,trigger:"blur"}]},editForm:{account:"",userName:"",org:"",email:"",phone:""},changePwdForm:{pwd:"",newPwd1:"",newPwd2:""},changePwdFormRules:{pwd:[{required:!0,message:"请输入密码",trigger:"blur"}],newPwd1:[{required:!0,message:"请输入新密码",trigger:"blur"}],newPwd2:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:t,trigger:"blur"}]},assignRoleForm:{role:""}}},watch:{},methods:{add:function(e,t){this.addFormVisible=!0},edit:function(e,t){this.editForm=t,this.editFormVisible=!0},freezeUser:function(e,t){var r=this;this.$confirm("被冻结的用户不再能登录系统，确定要冻结该用户【"+t.account+"】吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.resData[e].state="0",r.search(),r.$message({type:"success",message:"冻结成功!"})}).catch(function(){r.$message({type:"info",message:"已取消冻结"})})},assignRole:function(e,t){this.assignRoleFormVisible=!0,this.assignRoleForm.role=t.role},changePwd:function(e,t){this.changePwdFormVisible=!0},saveAddForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("请正确填写表单！"),!1;t.$message.success("提交成功！"),t.addFormVisible=!1})},saveEditForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("请正确填写表单！"),!1;t.$message.success("提交成功！"),t.editFormVisible=!1})},saveChangePwdForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("请正确填写表单！"),!1;t.$message.success("提交成功！"),t.changePwdFormVisible=!1})},search:function(){this.queryForm;this.pagination.currentPage=1,this.pagination.total=this.resData.length,this.paginate()},paginate:function(){var e=this.pagination.pageSize,t=this.pagination.currentPage;this.tableData=this.resData.slice((t-1)*e,t*e)},handleSizeChange:function(e){this.pagination.pageSize=e,this.paginate()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.paginate()}},beforeMount:function(){this.search()}}},521:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"table"},[r("el-form",{ref:"queryForm",attrs:{inline:!0,model:e.queryForm}},[r("el-form-item",{attrs:{label:"账号"}},[r("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.queryForm.account,callback:function(t){e.queryForm.account=t},expression:"queryForm.account"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.add}},[e._v("新增用户")])],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"account",label:"账号",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"originPwd",label:"初始密码",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"userName",label:"用户名称",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"org",label:"所属部门","min-width":"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"email",label:"邮件","min-width":"160"}}),e._v(" "),r("el-table-column",{attrs:{prop:"phone",label:"联系电话",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button-group",[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){e.edit(t.$index,t.row)}}},[e._v("修改资料")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){e.freezeUser(t.$index,t.row)}}},[e._v("冻结用户")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){e.assignRole(t.$index,t.row)}}},[e._v("分配角色")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){e.changePwd(t.$index,t.row)}}},[e._v("修改密码")])],1)]}}])})],1),e._v(" "),r("div",{staticClass:"pagination"},[r("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"新增用户"},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"账号",prop:"account"}},[r("el-input",{model:{value:e.addForm.account,callback:function(t){e.addForm.account=t},expression:"addForm.account"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[r("el-input",{model:{value:e.addForm.userName,callback:function(t){e.addForm.userName=t},expression:"addForm.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属部门",prop:"org"}},[r("el-input",{model:{value:e.addForm.org,callback:function(t){e.addForm.org=t},expression:"addForm.org"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮件",prop:"email"}},[r("el-input",{model:{value:e.addForm.email,callback:function(t){e.addForm.email=t},expression:"addForm.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[r("el-input",{model:{value:e.addForm.phone,callback:function(t){e.addForm.phone=t},expression:"addForm.phone"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer text-center",slot:"footer"},[r("el-button",{on:{click:function(t){e.addFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAddForm("addForm")}}},[e._v("确 定")])],1)]),e._v(" "),r("el-dialog",{attrs:{title:"修改资料"},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.addFormRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"账号",prop:"account"}},[r("el-input",{model:{value:e.editForm.account,callback:function(t){e.editForm.account=t},expression:"editForm.account"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[r("el-input",{model:{value:e.editForm.userName,callback:function(t){e.editForm.userName=t},expression:"editForm.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属部门",prop:"org"}},[r("el-input",{model:{value:e.editForm.org,callback:function(t){e.editForm.org=t},expression:"editForm.org"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮件",prop:"email"}},[r("el-input",{model:{value:e.editForm.email,callback:function(t){e.editForm.email=t},expression:"editForm.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[r("el-input",{model:{value:e.editForm.phone,callback:function(t){e.editForm.phone=t},expression:"editForm.phone"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer text-center",slot:"footer"},[r("el-button",{on:{click:function(t){e.editFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveEditForm("editForm")}}},[e._v("确 定")])],1)]),e._v(" "),r("el-dialog",{attrs:{title:"修改密码"},model:{value:e.changePwdFormVisible,callback:function(t){e.changePwdFormVisible=t},expression:"changePwdFormVisible"}},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"changePwdForm",attrs:{model:e.changePwdForm,rules:e.changePwdFormRules,"label-width":"130px"}},[r("el-form-item",{attrs:{label:"原密码",prop:"pwd"}},[r("el-input",{attrs:{type:"password"},model:{value:e.changePwdForm.pwd,callback:function(t){e.changePwdForm.pwd=t},expression:"changePwdForm.pwd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"新密码",prop:"newPwd1"}},[r("el-input",{attrs:{type:"password"},model:{value:e.changePwdForm.newPwd1,callback:function(t){e.changePwdForm.newPwd1=t},expression:"changePwdForm.newPwd1"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"再次输入新密码",prop:"newPwd2"}},[r("el-input",{attrs:{type:"password"},model:{value:e.changePwdForm.newPwd2,callback:function(t){e.changePwdForm.newPwd2=t},expression:"changePwdForm.newPwd2"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer text-center",slot:"footer"},[r("el-button",{on:{click:function(t){e.changePwdFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveChangePwdForm("changePwdForm")}}},[e._v("确 定")])],1)]),e._v(" "),r("el-dialog",{attrs:{title:"分配角色"},model:{value:e.assignRoleFormVisible,callback:function(t){e.assignRoleFormVisible=t},expression:"assignRoleFormVisible"}},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"assignRoleForm",attrs:{model:e.assignRoleForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"角色",prop:"role"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.assignRoleForm.role,callback:function(t){e.assignRoleForm.role=t},expression:"assignRoleForm.role"}},[r("el-option",{attrs:{label:"普通用户",value:"0"}}),e._v(" "),r("el-option",{attrs:{label:"系统管理员",value:"1"}})],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer text-center",slot:"footer"},[r("el-button",{on:{click:function(t){e.assignRoleFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}}});