webpackJsonp([11],{185:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=n(21),r=o(a),i=n(485),u=o(i),c=n(235),l=o(c),s=n(184),d=o(s),f=n(212),m=o(f),p=n(484),g=o(p),h=n(464),v=o(h);n(480),n(477),n(479),n(478),n(481);var b=n(238),_=o(b);n(234),r.default.use(g.default,m.default),r.default.use(v.default),r.default.use(d.default),l.default.beforeEach(function(e,t,n){var o=sessionStorage.getItem("userInfo");if(console.log(o),o&&!_.default.state.login){_.default.commit("loginIn",JSON.parse(o));var a=_.default.getters.getRoute;l.default.addRoutes(a),n({path:sessionStorage.getItem("cache_path")})}else o||"/login"===e.path?setTimeout(function(){0===e.matched.length&&"/"!==t.path?(n({path:"/404"}),console.log("404!")):"/404"!==e.path&&(console.log(e),console.log(t),document.title=e.meta.title?e.meta.title:"统一系统管理平台",sessionStorage.setItem("cache_path",e.path),n(),console.log("页面已加载"))},0):n({path:"/login"})}),new r.default({router:l.default,store:_.default,render:function(e){return e(u.default)}}).$mount("#app")},190:function(e,t,n){var o=n(83)(n(232),n(487),null,null);e.exports=o.exports},231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(233),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={data:function(){return{defaultUserInfo:{username:"gci",role:"admin",pic:"static/images/user.jpg"}}},computed:{userInfo:function(){var e=this.$store.getters.getUserInfo;return e=a.default.extend(!0,this.defaultUserInfo,e),e},menu:function(){return this.$store.getters.getMenu}},methods:{handleCommand:function(e){"loginout"==e?(this.$store.commit("loginOut"),this.$router.push({path:"/login",query:{action:"loginout"}})):"changePwd"==e&&this.$router.push("/changepwd")}},mounted:function(){},beforeMount:function(){}}},232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(486),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={components:{vHead:a.default}}},233:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(131),r=o(a),i=n(240),u=o(i),c=n(189),l=o(c),s=function(){function e(e){return"string"==typeof e}function t(e){return Array.isArray(e)}function n(e){return"function"==typeof e}function o(e){var t,n={}.hasOwnProperty;if("object"!==(void 0===e?"undefined":(0,l.default)(e))||e.nodeType||null!=e&&e===e.window)return!1;if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||n.call(e,t)}function a(){var e,r,i,u,c,s,d=arguments[0]||{},f=1,m=arguments.length,p=!1;for("boolean"==typeof d&&(p=d,d=arguments[f]||{},f++),"object"===(void 0===d?"undefined":(0,l.default)(d))||n(d)||(d={}),f===m&&(d=this,f--);f<m;f++)if(null!=(e=arguments[f]))for(r in e)i=d[r],u=e[r],d!==u&&(p&&u&&(o(u)||(c=t(u)))?(c?(c=!1,s=i&&t(i)?i:[]):s=i&&o(i)?i:{},d[r]=a(p,s,u)):void 0!==u&&(d[r]=u));return d}return{extend:a,isFunction:n,isPlainObject:o,isArray:t,isString:e,getStrLength:function(e){return e.replace(/[^\x00-\xff]/g,"aa").length},loadImage:function(e,t,n){var o=new Image;if(o.src=e,o.data=n,o.complete)return void t.call(o);o.onload=function(){t.call(o)}},imgCompress:function(e,t,n,o,a){n=n||300,o=o||1e3,a=a||.9;var r,i=[],u=document.createElement("canvas"),c=u.getContext("2d"),l=document.createElement("img"),s=0;!function d(){if(s>=e.length)return void t(i);var f=new FileReader;r=e[s],f.readAsDataURL(r),f.onload=function(e){l.src=e.target.result,l.onload=function(){var e;r.size>1024*n?l.width>l.height?(e=l.width/l.height,u.height=o,u.width=o*e):(e=l.height/l.width,u.height=o*e,u.width=o):(u.height=l.height,u.width=l.width),c.drawImage(l,0,0,u.width,u.height),i.push(u.toDataURL("image/jpeg",a)),s++,d()}}}()},getTime:function(e){var t=e/864e5,n=e%864e5,o=e/36e5,a=n%36e5,r=a/6e4,i=a%6e4,u=i/1e3;return{day:Math.ceil(t),hour:parseInt(o)<10?"0"+parseInt(o):""+parseInt(o),minute:parseInt(r)<10?"0"+parseInt(r):""+parseInt(r),second:parseInt(u)<10?"0"+parseInt(u):""+parseInt(u)}},getPageScroll:function(){var e=0,t=0;return window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft):document.body&&(t=document.body.scrollTop,e=document.body.scrollLeft),{x:e,y:t}},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(decodeURI(n[2])):""},getCookie:function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t);return null!=n?decodeURIComponent(decodeURI(n[2])):""},addJsonObject:function(e,t,n,o){for(o||(o=999999999),e=common.delJsonObject(e,t);(0,u.default)(e).length>=o;)for(var a in e){delete e[a];break}return e[t]=n,e},delJsonObject:function(e,t){return e[t]&&delete e[t],e},addJsonArray:function(e,t,n){for(n||(n=999999999),e=common.delJsonArray(e,t);e.length>=n;)e.shift();return e.push(t),e},delJsonArray:function(e,t){for(var n in e)if((0,r.default)(e[n])==(0,r.default)(t)){e.splice(n,1);break}return e},addLocalStorage:function(e,t,n){var o=common.getLocalStorage(e);o=common.addJsonArray(o,t,n),common.setLocalStorage(e,o)},addLocalStorageObj:function(e,t,n,o){var a=common.getLocalStorageObj(e);a=common.addJsonObject(a,t,n,o),common.setLocalStorage(e,a)},setLocalStorage:function(e,t){"string"!=typeof t&&(t=(0,r.default)(t)),localStorage.setItem(e,t)},getLocalStorage:function(e){var t,n=localStorage.getItem(e);if(n)try{t=JSON.parse(n),t instanceof Array||(t=new Array)}catch(e){t=new Array}else t=new Array;return t},getLocalStorageObj:function(e){var t,n=localStorage.getItem(e);if(n)try{t=JSON.parse(n),t instanceof Array&&(t=t[0]?t[0]:new Object)}catch(e){t=new Object}else t=new Object;return t},delLocalStorage:function(e,t){if(t){var n=common.getLocalStorage(e);n=common.delJsonArray(n,t),common.setLocalStorage(e,n)}else localStorage.removeItem(e)},addSessionStorage:function(e,t,n,o){var a=common.getSessionStorage(e);a=common.addJsonObject(a,t,n,o),common.setSessionStorage(e,a)},setSessionStorage:function(e,t){"string"!=typeof t&&(t=(0,r.default)(t)),sessionStorage.setItem(e,t)},getSessionStorage:function(e){var t,n=sessionStorage.getItem(e);if(n)try{t=JSON.parse(n),t instanceof Array&&(t=t[0]?t[0]:new Object)}catch(e){t=new Object}else t=new Object;return t},delSessionStorage:function(e,t){if(t){var n=common.getSessionStorage(e);n=common.delJsonObject(n,t),common.setSessionStorage(e,n)}else sessionStorage.removeItem(e)},escape2Html:function(e){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return e.replace(/&(lt|gt|nbsp|amp|quot);/gi,function(e,n){return t[n]})},nbsp2Space:function(e){var t={nbsp:" "};return e.replace(/&(nbsp);/gi,function(e,n){return t[n]})}}}();t.default=s},234:function(e,t,n){"use strict";Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},n={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+n[this.getDay()+""]));for(var o in t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e}},235:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),r=o(a),i=n(490),u=o(i);r.default.use(u.default);var c=[{path:"/",redirect:"/login"},{path:"/login",meta:{title:"登录 | 统一系统管理平台"},component:function(e){return n.e(1).then(function(){var t=[n(496)];e.apply(null,t)}.bind(this)).catch(n.oe)}}];t.default=new u.default({routes:c})},236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.loginIn=function(e,t){(0,e.commit)("loginIn",t)},t.loginOut=function(e){(0,e.commit)("loginOut")}},237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMenu=t.getRoute=t.getUserInfo=void 0;var o=n(190),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=(t.getUserInfo=function(e){return e.userInfo},t.getRoute=function(e){var t=[];return t="admin"===e.userInfo.role?i.menus.general.concat(i.menus.admin,i.others.general,i.others.admin):i.menus.general.concat(i.others.general),t.push(r),t},t.getMenu=function(e){return"admin"===e.userInfo.role?i.menus.general.concat(i.menus.admin):i.menus.general},{path:"/404",meta:{title:"404 | 统一系统管理平台"},component:function(e){return n.e(4).then(function(){var t=[n(494)];e.apply(null,t)}.bind(this)).catch(n.oe)}}),i={menus:{general:[{path:"/",component:a.default,name:"",meta:{leaf:!0,icon:""},children:[{path:"/home",component:function(e){return n.e(3).then(function(){var t=[n(497)];e.apply(null,t)}.bind(this)).catch(n.oe)},name:"首页",meta:{title:"首页 | 统一系统管理平台",icon:"iconfont icon-home7"}}]},{path:"/",component:a.default,name:"",meta:{leaf:!0,icon:""},children:[{path:"/membersystem",component:function(e){return n.e(0).then(function(){var t=[n(500)];e.apply(null,t)}.bind(this)).catch(n.oe)},name:"成员系统管理",meta:{title:"成员系统管理 | 统一系统管理平台",icon:"el-icon-menu"}}]}],admin:[{path:"/",component:a.default,name:"系统管理",meta:{limitRole:"admin",leaf:!1,icon:"el-icon-setting"},children:[{path:"/usermanage",component:function(e){return n.e(5).then(function(){var t=[n(503)];e.apply(null,t)}.bind(this)).catch(n.oe)},name:"用户管理",meta:{title:"用户管理 | 统一系统管理平台"}},{path:"/rolemanage",component:function(e){return n.e(6).then(function(){var t=[n(502)];e.apply(null,t)}.bind(this)).catch(n.oe)},name:"角色管理",meta:{title:"角色管理 | 统一系统管理平台"}},{path:"/logsearch",component:function(e){return n.e(7).then(function(){var t=[n(501)];e.apply(null,t)}.bind(this)).catch(n.oe)},name:"日志查询",meta:{title:"日志查询 | 统一系统管理平台"}}]}]},others:{general:[{path:"/",component:a.default,name:"",children:[{path:"/changepwd",component:function(e){return n.e(2).then(function(){var t=[n(495)];e.apply(null,t)}.bind(this)).catch(n.oe)},name:"修改密码",meta:{title:"修改密码 | 统一系统管理平台",icon:"iconfont icon-password"}}]},{path:"/",component:a.default,name:"成员系统管理",meta:{leaf:!0,icon:"el-icon-menu"},children:[{path:"/limitunity/:id",component:function(e){return n.e(9).then(function(){var t=[n(498)];e.apply(null,t)}.bind(this)).catch(n.oe)},name:"统一权限管理",meta:{title:"统一权限管理 | 统一系统管理平台"}}]},{path:"/",component:a.default,name:"成员系统管理",meta:{leaf:!0,icon:"el-icon-menu"},children:[{path:"/logvisit/:id",component:function(e){return n.e(8).then(function(){var t=[n(499)];e.apply(null,t)}.bind(this)).catch(n.oe)},name:"访问日志",meta:{title:"访问日志 | 统一系统管理平台"}}]}],admin:[]}}},238:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(243),i=a(r),u=n(131),c=a(u),l=n(21),s=a(l),d=n(184),f=a(d),m=n(236),p=o(m),g=n(237),h=o(g);s.default.use(f.default);var v={username:"",role:""},b={userInfo:v,login:!1},_={loginIn:function(e,t){e.userInfo=t,e.login=!0,sessionStorage.setItem("userInfo",(0,c.default)(e.userInfo))},loginOut:function(e){e.userInfo=v,e.login=!1,sessionStorage.removeItem("userInfo")},addAttr:function(e,t){e=(0,i.default)({},e,{obj:t})}};t.default=new f.default.Store({actions:p,getters:h,state:b,mutations:_})},458:function(e,t,n){t=e.exports=n(187)(),t.push([e.i,".header[data-v-b404ffa2]{position:relative;box-sizing:border-box;width:100%;height:60px;font-size:22px;line-height:60px;color:#fff;background-color:#324157}.header .logo[data-v-b404ffa2]{float:left;margin-left:50px}.user-info[data-v-b404ffa2]{float:right;padding-left:15px;padding-right:50px;font-size:16px}.user-info .el-dropdown-link[data-v-b404ffa2]{position:relative;display:inline-block;padding-left:50px;color:#bfcbd9;cursor:pointer;vertical-align:middle}.user-info .user-logo[data-v-b404ffa2]{position:absolute;left:0;top:10px;width:40px;height:40px;border-radius:50%}.el-dropdown-menu__item[data-v-b404ffa2]{text-align:center}",""])},477:function(e,t){},478:function(e,t){},479:function(e,t){},480:function(e,t){},481:function(e,t){},485:function(e,t,n){var o=n(83)(null,n(488),null,null);e.exports=o.exports},486:function(e,t,n){n(491);var o=n(83)(n(231),n(489),"data-v-b404ffa2",null);e.exports=o.exports},487:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("v-head"),e._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[e._l(e.$route.matched,function(t){return[t.name?n("el-breadcrumb-item",[t.meta.icon?n("i",{class:t.meta.icon}):e._e(),e._v(e._s(t.name))]):e._e()]})],2)],1),e._v(" "),n("transition",{attrs:{name:"move",mode:"out-in"}},[n("router-view")],1)],1)],1)},staticRenderFns:[]}},488:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},489:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",{staticClass:"logo"},[e._v("统一系统管理平台")]),e._v(" "),n("div",{staticClass:"user-info"},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[n("img",{staticClass:"user-logo",attrs:{src:e.userInfo.pic}}),e._v("\n\t\t\t\t"+e._s(e.userInfo.username)+"\n\t\t\t")]),e._v(" "),n("el-dropdown-menu",{slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"changePwd"}},[e._v("修改密码")]),e._v(" "),n("el-dropdown-item",{attrs:{divided:"",command:"loginout"}},[e._v("退出")])],1)],1)],1),e._v(" "),n("div",{staticClass:"pull-right"},[n("el-menu",{staticClass:"header-menu",attrs:{theme:"dark","default-active":e.$route.path,mode:"horizontal","unique-opened":"",router:""}},[e._l(e.menu,function(t,o){return[t.meta.limitRole&&e.userInfo.role!==t.meta.limitRole?e._e():[t.meta.leaf?n("el-menu-item",{attrs:{index:t.children[0].path}},[n("i",{class:t.children[0].meta.icon}),e._v(e._s(t.children[0].name))]):n("el-submenu",{attrs:{index:o+""}},[n("template",{slot:"title"},[n("i",{class:t.meta.icon}),e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t){return n("el-menu-item",{attrs:{index:t.path}},[e._v(e._s(t.name))])})],2)]]})],2)],1)])},staticRenderFns:[]}},491:function(e,t,n){var o=n(458);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(188)("cd4140ac",o,!0)},493:function(e,t,n){n(186),e.exports=n(185)}},[493]);