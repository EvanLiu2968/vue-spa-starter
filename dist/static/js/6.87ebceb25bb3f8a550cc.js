webpackJsonp([6],{502:function(e,t,r){var o=r(83)(r(513),r(526),null,null);e.exports=o.exports},504:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={version:"1.0",isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent)},isWechat:function(){return/micromessenger/i.test(navigator.userAgent)||void 0!==navigator.wxuserAgent},isIP:function(e){return/^(([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.)(([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.){2}([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))$/.test(e)},validateIP:function(e,t,r){o.isIP(t)?r():r(new Error("请输入正确的IP"))},isIdCardNo:function(e){var t=new Date(e.substr(6,4)+"-"+e.substr(10,2)+"-"+e.substr(12,2));return/^(\d{6})()?(\d{4})(\d{2})(\d{2})(\d{3})(\w)$/.test(e)&&t<new Date},validateIdCardNo:function(e,t,r){o.isIdCardNo(t)?r():r(new Error("请输入正确的身份证号码"))},isPlateNo:function(e){return/^[\u4e00-\u9fa5]{1}[A-Z]{1}[A-Z_0-9]{5}$/.test(e)},validatePlateNo:function(e,t,r){o.isPlateNo(t)?r():r(new Error("请输入正确的车牌号"))},isPhone:function(e){var t=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/,r=/^(\d{3,4}-?)?\d{7,9}$/g;return t.test(e)||r.test(e)},validatePhone:function(e,t,r){o.isPhone(t)?r():r(new Error("请输入正确的手机/电话号码"))},isQQ:function(e){return/^[1-9]\d{4,10}$/.test(e)},validateQQ:function(e,t,r){o.isQQ(t)?r():r(new Error("请输入正确的QQ号码"))},isPassword:function(e){return/^[a-zA-Z]\w{5,12}$/.test(e)},validatePassword:function(e,t,r){o.isPassword(t)?r():r(new Error("只能包含字符、数字和下划线，且以字母开头，长度在6-12之间"))},isChinese:function(e){return/^[\u4e00-\u9fa5]+$/.test(e)},validateChinese:function(e,t,r){o.isChinese(t)?r():r(new Error("请输入中文"))},isUrl:function(e){return/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i.test(e)},validateUrl:function(e,t,r){o.isUrl(t)?r():r(new Error("请输入正确的网址"))},isEmail:function(e){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},validateEmail:function(e,t,r){o.isEmail(t)?r():r(new Error("请输入正确的邮箱地址"))},getStrLength:function(e){return e.replace(/[^\x00-\xff]/g,"aa").length}};t.default=o},513:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(504);!function(e){e&&e.__esModule}(o);t.default={data:function(){return{queryForm:{role:""},tableData:[],resData:[{role:"系统管理员",roleType:"0",roleDesc:"系统管理员拥有最高级权限",creatPerson:"admin",creatTime:"2017-04-01 00:00:00",updatePerson:"admin",updateTime:"2017-04-01 00:00:00"},{role:"普通用户",roleType:"0",roleDesc:"普通用户没有系统管理的权限",creatPerson:"admin",creatTime:"2017-04-01 00:00:00",updatePerson:"admin",updateTime:"2017-04-01 00:00:00"},{role:"部门管理人",roleType:"1",roleDesc:"对相应部门用户进行管理",creatPerson:"admin",creatTime:"2017-04-01 10:11:12",updatePerson:"admin",updateTime:"2017-05-01 12:13:14"}],pagination:{currentPage:1,pageSize:10,total:0},addFormVisible:!1,editFormVisible:!1,assignRoleFormVisible:!1,addForm:{role:"",roleType:"",roleDesc:""},addFormRules:{role:[{required:!0,message:"请输入角色名称",trigger:"blur"},{max:"50",message:"最多输入50个字符",trigger:"blur"}],roleType:[{required:!0,message:"请选择角色类型",trigger:"blur"},{max:"20",message:"最多输入20个字符",trigger:"blur"}],roleDesc:[{max:"200",message:"最多输入200个字符",trigger:"blur"}]},editForm:{role:"",roleType:"",roleDesc:""},assignRoleForm:{role:""}}},watch:{},methods:{roleTypeFormatter:function(e,t){return"0"==e.roleType?"系统":"自定义"},add:function(e,t){this.addFormVisible=!0},edit:function(e,t){this.editForm=t,this.editFormVisible=!0},freezeRole:function(e,t){var r=this;this.$confirm("被冻结的角色将不能被使用，确定要冻结该角色【"+t.role+"】吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.resData[e].state="0",r.search(),r.$message({type:"success",message:"冻结成功!"})}).catch(function(){r.$message({type:"info",message:"已取消冻结"})})},assignRole:function(e,t){this.assignRoleFormVisible=!0,this.assignRoleForm.role=t.role},saveAddForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("请正确填写表单！"),!1;t.$message.success("提交成功！"),t.addFormVisible=!1})},saveEditForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("请正确填写表单！"),!1;t.$message.success("提交成功！"),t.editFormVisible=!1})},search:function(){this.queryForm;this.pagination.currentPage=1,this.pagination.total=this.resData.length,this.paginate()},paginate:function(){var e=this.pagination.pageSize,t=this.pagination.currentPage;this.tableData=this.resData.slice((t-1)*e,t*e)},handleSizeChange:function(e){this.pagination.pageSize=e,this.paginate()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.paginate()}},beforeMount:function(){this.search()}}},526:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"table"},[r("el-form",{ref:"queryForm",attrs:{inline:!0,model:e.queryForm}},[r("el-form-item",{attrs:{label:"角色"}},[r("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.queryForm.role,callback:function(t){e.queryForm.role=t},expression:"queryForm.role"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.add}},[e._v("新增角色")])],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"role",label:"角色名称",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"roleType",label:"角色类型",width:"80",formatter:e.roleTypeFormatter}}),e._v(" "),r("el-table-column",{attrs:{prop:"roleDesc",label:"角色描述","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"creatPerson",label:"创建人",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"creatTime",label:"创建时间",width:"160"}}),e._v(" "),r("el-table-column",{attrs:{prop:"updatePerson",label:"最近修改人",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"updateTime",label:"最近修改时间",width:"160"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button-group",[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){e.edit(t.$index,t.row)}}},[e._v("修改角色")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){e.freezeRole(t.$index,t.row)}}},[e._v("冻结角色")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){e.assignRole(t.$index,t.row)}}},[e._v("分配用户")])],1)]}}])})],1),e._v(" "),r("div",{staticClass:"pagination"},[r("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"新增角色"},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"role"}},[r("el-input",{model:{value:e.addForm.role,callback:function(t){e.addForm.role=t},expression:"addForm.role"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"角色类型",prop:"roleType"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.roleType,callback:function(t){e.addForm.roleType=t},expression:"addForm.roleType"}},[r("el-option",{attrs:{label:"系统",value:"0"}}),e._v(" "),r("el-option",{attrs:{label:"自定义",value:"1"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[r("el-input",{attrs:{type:"testarea"},model:{value:e.addForm.roleDesc,callback:function(t){e.addForm.roleDesc=t},expression:"addForm.roleDesc"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer text-center",slot:"footer"},[r("el-button",{on:{click:function(t){e.addFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAddForm("addForm")}}},[e._v("确 定")])],1)]),e._v(" "),r("el-dialog",{attrs:{title:"修改角色"},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.addFormRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"role"}},[r("el-input",{model:{value:e.editForm.role,callback:function(t){e.editForm.role=t},expression:"editForm.role"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"角色类型",prop:"roleType"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.roleType,callback:function(t){e.editForm.roleType=t},expression:"editForm.roleType"}},[r("el-option",{attrs:{label:"系统",value:"0"}}),e._v(" "),r("el-option",{attrs:{label:"自定义",value:"1"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[r("el-input",{attrs:{type:"testarea"},model:{value:e.editForm.roleDesc,callback:function(t){e.editForm.roleDesc=t},expression:"editForm.roleDesc"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer text-center",slot:"footer"},[r("el-button",{on:{click:function(t){e.editFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveEditForm("editForm")}}},[e._v("确 定")])],1)]),e._v(" "),r("el-dialog",{attrs:{title:"分配用户"},model:{value:e.assignRoleFormVisible,callback:function(t){e.assignRoleFormVisible=t},expression:"assignRoleFormVisible"}},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"assignRoleForm",attrs:{model:e.assignRoleForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"角色",prop:"role"}},[r("el-input",{attrs:{placeholder:""},model:{value:e.assignRoleForm.role,callback:function(t){e.assignRoleForm.role=t},expression:"assignRoleForm.role"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer text-center",slot:"footer"},[r("el-button",{on:{click:function(t){e.assignRoleFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}}});